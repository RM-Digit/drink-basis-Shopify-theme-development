{%- comment -%} Section {%- endcomment -%}
{%- assign row_split = false -%}
{%- if layout == 'split' and title != blank and content != blank -%}
	{%- assign row_split = true -%}
{%- endif -%}
{%- assign transition_text = settings.transition_text -%}

{%- if title != blank or content != blank or button_text != blank -%}
<section class="title-module container-wrap" id="text-module-{{ id }}" data-section-type="rich-text">
	<div class="container pad-sm">
		<div class="row {% if row_split %}row--split{% else %}row-sm{% endif %}">
			{%- if title != blank or subheading != blank -%}
				<div class="rich-heading">
					{%- if subheading != blank -%}
						<p class="rich__subheading subheading-text{% if transition_text %} will-animate{% endif %}"{% if transition_text %} data-animation="popUp" data-animation-delay="250"{% endif %}>
							{{- subheading -}}
						</p>
					{%- endif -%}

					{%- if title != blank -%}
						<h2 class="rich__heading{% if transition_text %} will-animate{% endif %}"{% if transition_text %} data-animation="popUp" data-animation-delay="500"{% endif %}>
							{{- title -}}
						</h2>
					{%- endif -%}
				</div>
			{%- endif -%}

			{%- unless settings.accent_line == 'none' -%}
				<div class="rich-text__accent-line{% if transition_text %} will-animate{% endif %}"{% if transition_text %} data-animation="popUp" data-animation-delay="750"{% endif %}>
					{%- include 'accent-line' -%}
				</div>
			{%- endunless -%}

			{%- if content != blank -%}
				<div class="rich-content{% if button_text == blank %} no-button{% endif %}">
					<div{% if transition_text %} class="will-animate" data-animation="popUp" data-animation-delay="1000"{% endif %}>
						{{- content -}}
					</div>

					{%- if button_text != blank -%}
						<div class="button-wrap{% if transition_text %} will-animate{% endif %}"{% if transition_text %} data-animation="popUp" data-animation-delay="1250"{% endif %}>
							<a href="{{ button_link }}" class="button button--{{ button_style }}" title="{{ button_text }}">{{ button_text }}</a>
						</div>
					{%- endif -%}
				</div>
			{%- endif -%}
		</div>
	</div>
</section>
{%- endif -%}